---
layout: post
title: "อัลกอริทึมในการคลีนมังงะ"
date: '2015-11-12T01:13:00.000+07:00'
author: Pakkapon Phongthawee
tags:
- "แรงบันดาลใจ"
- "วิจัย"
modified_time: '2015-11-12T01:13:00.000+07:00'
thumbnail: /assets/images/thumbnail/manga-clean-algorithm.png
---
ก่อนอืนต้องขอบอกว่านี่เป็นเพียงแนวคิดเท่านั้น ผมไม่ได้ทำอย่างจริงจังแต่หากคุณเป็นคนที่กำลังต้องการหัวข้อวิจัยหรือโปรเจคจบในสายงานด้านคอมพิวเตอร์ Computer Vision หรือ Machine learning ผมก็ยินดีที่จะให้คุณนำหัวข้อนี้ไปใช้ ผมเพียงต้องการจะเห็นอัลกอริทึมนี้ออกมาเป็นรูปธรรมเท่านั้น ผมจึงยินดีเป็นอย่างมากหากคุณคิดจะสร้างมันขึ้นมาจริงๆ

## ที่มาและความสำคัญ

การคลีนมังงะ คือการนำตัวอักษรจากต้นฉบับในภาษาต่างประเทศออกจากภาพ เพื่อใช้ภาพนั้นในการแปลมังงะ(หนังสือการ์ตูน) เป็นภาษาอื่น ซึ่งในปัจจุบันใช้โปรแกรมแก้ไขภาพ เช่น Photoshop, Gimp ในการคลีนมังงะ ซึ่งใช้เวลามาก อีกทั้งยังมีผู้แปลบางส่วนใช้วิธีการถมขาว/ถมดำ เพื่อความรวดเร็วในการคลีนซึ่งส่งผลให้ไฟล์ที่ได้นั้นมีลักษณะออกมาไม่สวยงาม

อีกทั้งในปัจจุบันนี้เราสามารถใช้ OCR (Optical Character Recognition) ในการค้นหาตัวอักษรบนรูปภาพ ดังนั้นจึงมีความเป็นไปได้ที่จะใช้ OCR ค้นหาตัวอักษรบนภาพของมังงะก่อนทำการลบตัวอักษรนั้นทิ้ง พร้อมทั้งเติมพื้นหลังของตัวอักษรที่ถูกลบออกด้วยภาพที่หายไปด้วยกระบวนการเรียนรู้ของเครื่อง (Machine Learning) เพื่อให้สามารถเติมพื้นหลังที่น่าจะเป็นได้ถูกต้อง ทั้งนี้เพื่อเป็นการคลีนมังงะให้พร้อมสำหรับการแปลเป็นภาษาอื่น


## ประโยชน์ที่ได้รับ

1. สามารถคลีนมังงะได้เร็วขึ้นมาก
2. ภาพจากการคลีนมังงะ มีความสวยงาม เนื่องจากไม่ได้ใช้วิธีถมดำ ถมขาวในการคลีน

## หลักการและเหตุผล

หลักการทำงานของอัลกอริทึมคลีนมังงะแบ่งเป็น 3 ส่วนสำคัญ ได้แก่

1. หาตัวอักษร
2. ตรวจสอบว่าควรลบตัวอักษรนี้หรือไม่
3. เติมพื้นหลังที่หายไป

### หาตัวอักษร

เนื่องจากมังงะที่ใช้แปลส่วนใหญ่มาจาก 4 ภาษาได้แก่ อังกฤษ จีน เกาหลี และญี่ปุ่น ซึ่งทั้ง 4 ภาษาที่ได้กล่าวมามี OCR อยู่แล้วจึงมีความเป็นไปได้ที่จะหาตัวอักษรที่อยู่บนภาพ

### ตรวจสอบว่าควรลบหรือไม่

เมื่อรานำไฟล์ไปผ่านขั้นตอน OCR อาจทำให้ระบบเจออักษรในจุดที่ไม่ใช่ตัวอักษรก็ได้ แต่ควรจำไว้เสมอว่า อักษรในมังงะจะไม่เขียนแยกตัวเดียว ยกเว้นเป็นเสียงประกอบฉาก (ซึ่งในการแปลมังงะไม่ลบเสียงประกอบฉากออกอยู่แล้ว) ดังนั้นอักษรที่ควรลบมังจะอยู่ติดกันเป็นประโยค ทำให้เราสามารถตรวจสอบได้ว่าตัวอักษรบริเวณนี้ลบควรลบหรือไม่จากการตรวจสอบตัวอักษรที่อยู่บริเวณใกล้เคียง

### เติมพื้นหลังที่หายไป

สำหรับขั้นตอนการเติมพื้นหลังที่หายไป พบว่าโดยปกติแล้วตัวอักษรในมังงะ มักอยู่ใน 3 รูปแบบนี้ได้แก่

1. ตัวอักษรในกล่องข้อความแบบคำพูด
2. ตัวอักษรในกล่องข้อความแบบความคิด
3. ตัวอักษรบนภาพพื้นหลัง

สำหรับตัวอักษรในกล่องข้อความแบบคำพูด จะอยู่ในพื้นที่ ที่ถูกล้อมรอบด้วยเส้นที่ระบุว่าบริเวณนั้นคือข้อความที่ตัวละครสนทนาจึงไม่ใช่เรื่องยากที่จะหาขอบของกล่องข้อความนั้นเพื่อลงสีขาวทัว

สำหรับตัวอักษรในกล่องข้อความแบบความคิด จะอยู่ในพื้นที่ที่เป็นพื้นหลังสีขาวแต่มีแฉกเป็นสีดำไม่เชื่อกันดี จึงหาขอบได้ยาก แต่เราสามารถลงพื้นหลังสีขาวได้ทันทีหาเป็นกล่องข้อความประเภทนี้

สำหรับกล่องข้อความบนภาพ คงต้องใช้อัลกอริทึมการซ่อมแซมภาพในการเติมภาพที่หายไป อาจจะด้วยการใช้ Machine Learning หรืออัลกอริทึมอื่นตามเห็นสมควร

## ป.ล.

ตอนนี้เทคโนโลยีพร้อมจะสร้างอัลกอริทึมนี้ขึ้นมาแล้วขาดเพียงผู้ที่จะทำมัน และมีนักแปลอีกจำนวนมากที่รอใช้มัน เพื่อจะช่วยให้คนทั่วไปสามารถเข้าถึงมังงะได้มากยิ่งขึ้น ดังนั้ผมจึงหวังว่าคุณที่กำลังอ่านในตอนนี้ คงจะเป็นคนที่สร้างมันขึ้นมาแน่นอนครับ
